<!DOCTYPE html>
<html>
    <head>
        <title>Spinning Wheel</title>
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
        <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/2.1.3/TweenMax.min.js"></script>
        <script src="Winwheel.js"></script>
        <link href="style.css" rel="stylesheet" />
        <style>
            * {
                border: red 1px solid;
            }

        </style>
    </head>
    <body>
        <div class="container">
            <div class="row">
                <div class="col-lg-12">
                        <button onClick="theWheel.startAnimation();">Spin the Wheel</button>
                        <button onClick="changeColors();">Change Colors</button>
                </div>
            </div>
            <div class="row">
                    <div class="col-lg-12">
                            <button onClick="addSegment();">Add Segment</button>
                            <button onClick="deleteSegment();">Delete Segment</button>
                    </div>
            </div>
            <div class="row">
                    <div class="col-lg-12">
                        <br><br>
                        <canvas id="canvas" width="500" height="500">
                                Canvas not supported, use another browser.
                        </canvas>
                    </div>
            </div>
        </div>
        
<script>
    let theWheel = new Winwheel({
        'canvasId'    : 'canvas',
        'lineWidth'   : 3,
        'numSegments' : 10,
        'direction'    : 'clockwise',
        'repeat'       : 0,
        'outerRadius'  : 220, 
        'centerX'     : 250,    
        'centerY'     : 255,
        'rotationAngle'   : -36, 
        'animation' :
        {
            'type'     : 'spinToStop',
            'duration' : 5,
            'spins'    : 8
        },
        'segments'    :
        [
            {'fillStyle' : '#337CA0', 'text' : 'Jesse'},
            {'fillStyle' : '#3EC300', 'text' : 'Wendy'},
            {'fillStyle' : '#FFFC31', 'text' : 'Brianda'},
            {'fillStyle' : '#FF1D15', 'text' : 'Katie'},
            {'fillStyle' : '#7A693A', 'text' : 'Craig'},
            {'fillStyle' : '#337CA0', 'text' : 'Boe'},
            {'fillStyle' : '#3EC300', 'text' : 'Wigg'},
            {'fillStyle' : '#FFFC31', 'text' : 'Barrios Lopez'},
            {'fillStyle' : '#FF1D15', 'text' : 'Forbush'},
            {'fillStyle' : '#7A693A', 'text' : 'Simmons'}
        ]
    });

    function changeColors() {
        // (note first array position is 1 not 0). Quirk of winwheel.js
        let temp = theWheel.segments[1].fillStyle;
        theWheel.segments[1].fillStyle = theWheel.segments[2].fillStyle;
        theWheel.segments[2].fillStyle = theWheel.segments[3].fillStyle;
        theWheel.segments[3].fillStyle = theWheel.segments[4].fillStyle;
        theWheel.segments[4].fillStyle = theWheel.segments[5].fillStyle;
        theWheel.segments[5].fillStyle = theWheel.segments[6].fillStyle;
        theWheel.segments[6].fillStyle = theWheel.segments[7].fillStyle;
        theWheel.segments[7].fillStyle = theWheel.segments[8].fillStyle;
        theWheel.segments[8].fillStyle = theWheel.segments[9].fillStyle;
        theWheel.segments[9].fillStyle = theWheel.segments[10].fillStyle;
        theWheel.segments[10].fillStyle = temp;
        theWheel.draw();
    };

    function addSegment(){
        // Use a date object to set the text of each added segment to the current minutes:seconds
        // (just to give each new segment a different label).
        let date = new Date();
        // The Second parameter in the call to addSegment specifies the position,
        // in this case 1 meaning the new segment goes at the start of the wheel.
        theWheel.addSegment({
            'text' : date.getMinutes() + ':' + date.getSeconds(),
            'fillStyle' : 'red'
        }, 1);
        theWheel.draw();
    };
 
    function deleteSegment() {
        // Call function to remove a segment from the wheel, by default the last one will be
        // removed; you can pass in the number of the segment to delete if desired.
        theWheel.deleteSegment();
        theWheel.draw();
    };
</script>
</body>
</html>